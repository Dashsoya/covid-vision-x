{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Report</title>
<link rel="stylesheet" href="{% static 'doctor/css/master.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Joan&display=swap" rel="stylesheet">
</head>
<body>

<header>
    <div id="logoImgBox">
      <img src="{% static 'images\Picture3-fotor-20240319214142-removebg-preview.png' %}" id="logoImg" alt="Logo"/>
    </div>
    
    <nav class="navbar">
      <div class="dropdown">
        <a class="active dropbtn">Patient</a>
        <div class="dropdown-content">
          <a href="/docUploadXRay/">Upload X-ray Image</a>
          <a href="/docReportView/">Report</a>
          <a href="/docNonUpdatedReport/">Non-uploaded Report</a>
        </div>
      </div>
      
      <div class="dropdown">
        <a class="patient dropbtn">Profile</a>
        <div class="dropdown-content">
          <a href="/docProfileView/">View Profile</a>
          <a href="/logout/">Logout</a> <!-- Adjust the href as needed for logout functionality -->
        </div>
      </div>
    </nav>

    <div class="icons">
      <i class="fas fa-bars" id="menu-bars"></i>
    </div>
</header>

<section>
  <div id="reportContainer">
      <h1 id="uploadTitle">X-ray Analysis</h1>
      {% if reports %}
      {% for report in reports %}
      <div class="reportItem">
          <div id="xrayImage">
              <!-- Display the report image -->
              <img src="{{ report.image.url }}" alt="X-ray Image">
          </div>
          <div id="reportInfo">
              <!-- Display the report details -->
              <p>NAME: {{ report.patient_name }}</p>
              <p>DATE: {{ report.date }}</p>
              <h2>Detailed report information</h2>
              <!-- Additional report information here -->
          </div>
          <div id="resultContainer">
              <h2>Result</h2>
              <label for="statusDropdown">Status: {{report.status}}</label>

              <select id="statusDropdown" name="status">
                  <option value="covid" {% if report.status == 'covid' %} selected {% endif %}>Covid</option>
                  <option value="normal" {% if report.status == 'normal' %} selected {% endif %}>Normal</option>
              </select>
          </div>
          <div id="actionButtons">
            <!-- Form for uploading -->
            <form method="POST" action="/uploadReport/">
                {% csrf_token %}
                <input type="hidden" name="report_id" value="{{ report.id }}">
                <button type="submit">Upload</button>
            </form>
        
            <!-- Form for deleting -->
            <form method="POST" action="/deleteReport/">
                {% csrf_token %}
                <input type="hidden" name="report_id" value="{{ report.id }}">
                <button type="submit">Delete</button>
            </form>
        </div>
        
      </div>
      {% endfor %}
      {% else %}
      <p>No reports available</p>
      {% endif %}
  </div>
</section>


<script>
    // You can add JavaScript here if you need interactive elements
</script>

</body>
</html>
